<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Generate Hero Background</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f8f9fa;
    }
    
    .container {
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }
    
    .controls {
      background-color: #fff;
      padding: 20px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      z-index: 100;
    }
    
    .control-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 15px;
    }
    
    h1 {
      margin-top: 0;
      color: #343a40;
    }
    
    label {
      display: block;
      margin-bottom: 5px;
      font-weight: 500;
    }
    
    input, select {
      width: 100%;
      padding: 8px;
      border: 1px solid #ced4da;
      border-radius: 4px;
      box-sizing: border-box;
      margin-bottom: 5px;
    }
    
    button {
      background-color: #ff8800;
      color: white;
      border: none;
      padding: 10px 15px;
      border-radius: 4px;
      cursor: pointer;
      font-weight: 500;
      margin-top: 10px;
    }
    
    button:hover {
      background-color: #e67a00;
    }
    
    .preview-container {
      flex-grow: 1;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 20px;
      overflow: auto;
      background-color: #eee;
    }
    
    .hero-container {
      width: 1920px;
      height: 1080px;
      position: relative;
      overflow: hidden;
      box-shadow: 0 4px 20px rgba(0,0,0,0.2);
    }
    
    .dot-pattern {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-image: radial-gradient(circle, rgba(255,255,255,0.1) 1px, transparent 1px);
      background-size: 20px 20px;
    }
    
    .text {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-family: Arial, sans-serif;
      font-weight: bold;
      text-align: center;
      white-space: nowrap;
    }
    
    .action-bar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 15px 20px;
      background-color: #343a40;
      color: white;
    }
    
    .download-button {
      background-color: #28a745;
      color: white;
      padding: 8px 16px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      text-decoration: none;
      font-weight: 500;
    }
    
    .download-button:hover {
      background-color: #218838;
    }
    
    canvas {
      display: none;
    }
    
    .help-text {
      color: #6c757d;
      font-size: 0.9em;
    }
    
    @media (max-width: 768px) {
      .control-grid {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="controls">
      <h1>Hero Background Generator</h1>
      <div class="control-grid">
        <div>
          <label for="width">Width (px):</label>
          <input type="number" id="width" value="1920" min="800">
          
          <label for="height">Height (px):</label>
          <input type="number" id="height" value="1080" min="400">
        </div>
        
        <div>
          <label for="gradientStart">Gradient Start:</label>
          <input type="color" id="gradientStart" value="#232526">
          
          <label for="gradientEnd">Gradient End:</label>
          <input type="color" id="gradientEnd" value="#414345">
          
          <label for="gradientDirection">Gradient Direction:</label>
          <select id="gradientDirection">
            <option value="135">Diagonal (↘)</option>
            <option value="90">Horizontal (→)</option>
            <option value="180">Vertical (↓)</option>
            <option value="45">Diagonal (↗)</option>
          </select>
        </div>
        
        <div>
          <label for="text">Overlay Text:</label>
          <input type="text" id="text" value="STACKMART">
          
          <label for="textColor">Text Color:</label>
          <input type="color" id="textColor" value="#ff8800">
          
          <label for="textOpacity">Text Opacity:</label>
          <input type="range" id="textOpacity" min="0" max="1" step="0.05" value="0.2">
          
          <label for="fontSize">Font Size (px):</label>
          <input type="number" id="fontSize" value="120" min="20" max="300">
        </div>
        
        <div>
          <label for="dotSize">Dot Size (px):</label>
          <input type="number" id="dotSize" value="1" min="0" max="10" step="0.5">
          
          <label for="dotSpacing">Dot Spacing (px):</label>
          <input type="number" id="dotSpacing" value="20" min="5" max="50">
          
          <label for="dotOpacity">Dot Opacity:</label>
          <input type="range" id="dotOpacity" min="0" max="1" step="0.05" value="0.1">
          
          <button id="updatePreview">Update Preview</button>
        </div>
      </div>
    </div>
    
    <div class="preview-container">
      <div class="hero-container" id="heroPreview">
        <div class="dot-pattern" id="dotPattern"></div>
        <div class="text" id="textOverlay">STACKMART</div>
      </div>
    </div>
    
    <div class="action-bar">
      <div class="instructions">
        <p>Click "Download" to save your image as hero-bg.jpg</p>
      </div>
      <a id="downloadLink" class="download-button">Download Image</a>
    </div>
  </div>

  <canvas id="canvas"></canvas>
  
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // Elements
      const heroPreview = document.getElementById('heroPreview');
      const dotPattern = document.getElementById('dotPattern');
      const textOverlay = document.getElementById('textOverlay');
      const downloadLink = document.getElementById('downloadLink');
      const updateButton = document.getElementById('updatePreview');
      const canvas = document.getElementById('canvas');
      const ctx = canvas.getContext('2d');
      
      // Update preview based on current settings
      function updatePreview() {
        // Get current values
        const width = document.getElementById('width').value;
        const height = document.getElementById('height').value;
        const gradientStart = document.getElementById('gradientStart').value;
        const gradientEnd = document.getElementById('gradientEnd').value;
        const gradientDirection = document.getElementById('gradientDirection').value;
        const text = document.getElementById('text').value;
        const textColor = document.getElementById('textColor').value;
        const textOpacity = document.getElementById('textOpacity').value;
        const fontSize = document.getElementById('fontSize').value;
        const dotSize = document.getElementById('dotSize').value;
        const dotSpacing = document.getElementById('dotSpacing').value;
        const dotOpacity = document.getElementById('dotOpacity').value;
        
        // Update hero container dimensions
        heroPreview.style.width = `${width}px`;
        heroPreview.style.height = `${height}px`;
        
        // Update gradient background
        heroPreview.style.background = `linear-gradient(${gradientDirection}deg, ${gradientStart} 0%, ${gradientEnd} 100%)`;
        
        // Update dot pattern
        dotPattern.style.backgroundImage = `radial-gradient(circle, rgba(255,255,255,${dotOpacity}) ${dotSize}px, transparent ${dotSize}px)`;
        dotPattern.style.backgroundSize = `${dotSpacing}px ${dotSpacing}px`;
        
        // Update text overlay
        textOverlay.textContent = text;
        textOverlay.style.fontSize = `${fontSize}px`;
        textOverlay.style.color = hexToRgba(textColor, textOpacity);
        
        // Generate downloadable image
        generateImage();
      }
      
      // Convert hex color to rgba
      function hexToRgba(hex, opacity) {
        hex = hex.replace('#', '');
        const r = parseInt(hex.substring(0, 2), 16);
        const g = parseInt(hex.substring(2, 4), 16);
        const b = parseInt(hex.substring(4, 6), 16);
        return `rgba(${r},${g},${b},${opacity})`;
      }
      
      // Generate downloadable image
      function generateImage() {
        const width = parseInt(document.getElementById('width').value);
        const height = parseInt(document.getElementById('height').value);
        const text = document.getElementById('text').value;
        const fontSize = parseInt(document.getElementById('fontSize').value);
        const dotSize = parseFloat(document.getElementById('dotSize').value);
        const dotSpacing = parseInt(document.getElementById('dotSpacing').value);
        const gradientDirection = parseInt(document.getElementById('gradientDirection').value);
        
        // Set canvas size
        canvas.width = width;
        canvas.height = height;
        
        // Draw gradient background
        const gradient = ctx.createLinearGradient(
          0, 0, 
          gradientDirection === 90 ? width : 0, 
          gradientDirection === 180 ? height : 0
        );
        if (gradientDirection === 45) {
          gradient.addColorStop(0, document.getElementById('gradientEnd').value);
          gradient.addColorStop(1, document.getElementById('gradientStart').value);
        } else if (gradientDirection === 135) {
          gradient.addColorStop(0, document.getElementById('gradientStart').value);
          gradient.addColorStop(1, document.getElementById('gradientEnd').value);
        } else {
          gradient.addColorStop(0, document.getElementById('gradientStart').value);
          gradient.addColorStop(1, document.getElementById('gradientEnd').value);
        }
        
        ctx.fillStyle = gradient;
        ctx.fillRect(0, 0, width, height);
        
        // Draw dot pattern
        const dotOpacity = parseFloat(document.getElementById('dotOpacity').value);
        ctx.fillStyle = `rgba(255,255,255,${dotOpacity})`;
        
        for (let x = 0; x < width; x += dotSpacing) {
          for (let y = 0; y < height; y += dotSpacing) {
            ctx.beginPath();
            ctx.arc(x + dotSpacing/2, y + dotSpacing/2, dotSize, 0, Math.PI * 2);
            ctx.fill();
          }
        }
        
        // Draw text overlay
        if (text.trim() !== '') {
          ctx.font = `bold ${fontSize}px Arial, sans-serif`;
          ctx.textAlign = 'center';
          ctx.textBaseline = 'middle';
          
          const textColor = document.getElementById('textColor').value;
          const textOpacity = parseFloat(document.getElementById('textOpacity').value);
          
          // Extract RGB from hex
          const r = parseInt(textColor.slice(1, 3), 16);
          const g = parseInt(textColor.slice(3, 5), 16);
          const b = parseInt(textColor.slice(5, 7), 16);
          
          ctx.fillStyle = `rgba(${r},${g},${b},${textOpacity})`;
          ctx.fillText(text, width / 2, height / 2);
        }
        
        // Update download link
        downloadLink.href = canvas.toDataURL('image/jpeg');
        downloadLink.download = 'hero-bg.jpg';
      }
      
      // Scale preview to fit window
      function scalePreview() {
        const previewContainer = document.querySelector('.preview-container');
        const maxWidth = previewContainer.clientWidth;
        const maxHeight = previewContainer.clientHeight;
        
        const width = parseInt(document.getElementById('width').value);
        const height = parseInt(document.getElementById('height').value);
        
        const scale = Math.min(
          maxWidth / width,
          maxHeight / height,
          1 // Don't scale up, only down
        );
        
        heroPreview.style.transform = `scale(${scale})`;
        heroPreview.style.transformOrigin = 'center';
      }
      
      // Event listeners
      updateButton.addEventListener('click', () => {
        updatePreview();
        scalePreview();
      });
      
      window.addEventListener('resize', scalePreview);
      
      // Initialize
      updatePreview();
      scalePreview();
    });
  </script>
</body>
</html>